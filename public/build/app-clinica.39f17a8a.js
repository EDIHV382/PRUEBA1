/*! For license information please see app-clinica.39f17a8a.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[846],{736:(e,t,n)=>{n(6918),n(1629),n(4423),n(3792),n(3288),n(9868),n(6099),n(8459),n(7495),n(8781),n(1699),n(7764),n(5440),n(8992),n(3949),n(3500),n(2953),n(3296),n(7208),n(8408),n(4603),n(7566),n(8721),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("modalSeleccionarUsuario");if(e){var t=document.getElementById("user-search-input"),n=e.querySelectorAll(".user-select-item"),r=document.getElementById("corte-date-input"),o=document.getElementById("generate-corte-btn"),a=null;t.addEventListener("input",function(){var e=t.value.toLowerCase();n.forEach(function(t){var n=t.textContent.toLowerCase();t.style.display=n.includes(e)?"":"none"})}),n.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),n.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active"),a=e.dataset.userId,o.disabled=!1})}),o.addEventListener("click",function(){if(a){var e=r.value,t=new URL(window.location.pathname,window.location.origin);t.searchParams.set("usuarioId",a),t.searchParams.set("fecha",e),window.location.href=t.toString()}})}if(document.getElementById("form-corte-caja")){var i,c,s=document.getElementById("corte_caja_efectivo_inicial"),d=document.getElementById("corte_caja_efectivo_final"),u=parseFloat(null===(i=document.getElementById("total-efectivo-calculado"))||void 0===i?void 0:i.textContent.replace(/[^0-9.-]+/g,""))||0,l=parseFloat(null===(c=document.getElementById("total-gastos-calculado"))||void 0===c?void 0:c.textContent.replace(/[^0-9.-]+/g,""))||0,f=document.getElementById("total-en-caja"),v=document.getElementById("diferencia-corte"),m=function(){var e=parseFloat(s.value)||0,t=parseFloat(d.value)||0,n=e+u-l,r=t-n;f&&(f.textContent="$".concat(n.toFixed(2))),v&&(v.textContent="$".concat(r.toFixed(2)),v.classList.remove("text-success","text-danger","text-muted"),r>0?(v.classList.add("text-success"),v.innerHTML+=" <small>(Sobrante)</small>"):r<0?(v.classList.add("text-danger"),v.innerHTML+=" <small>(Faltante)</small>"):(v.classList.add("text-muted"),v.innerHTML+=" <small>(Cuadra)</small>"))};s.addEventListener("input",m),d.addEventListener("input",m),m()}var p=document.getElementById("buscador-cortes"),y=document.getElementById("cortes-table-body");p&&y&&p.addEventListener("input",function(e){var t=e.target.value.toLowerCase();y.querySelectorAll("tr").forEach(function(e){e.style.display=e.innerText.toLowerCase().includes(t)?"table-row":"none"})})})},5146:()=>{document.addEventListener("DOMContentLoaded",function(){var e=document.body,t=document.getElementById("sidebar"),n=document.getElementById("page-content"),r=document.getElementById("sidebarToggle"),o=document.getElementById("darkModeToggle"),a=document.getElementById("darkModeIcon");if(r&&t&&n){var i=function(){t.classList.toggle("collapsed"),n.classList.toggle("sidebar-hidden")};r.addEventListener("click",i);var c=function(){window.innerWidth<992&&!t.classList.contains("collapsed")&&i()};c(),window.addEventListener("resize",c)}if(o&&a){var s=function(t){t?(e.classList.add("dark-mode"),a.classList.remove("mdi-weather-night"),a.classList.add("mdi-white-balance-sunny"),localStorage.setItem("darkMode","enabled")):(e.classList.remove("dark-mode"),a.classList.remove("mdi-white-balance-sunny"),a.classList.add("mdi-weather-night"),localStorage.setItem("darkMode","disabled"))};o.addEventListener("click",function(){var t=e.classList.contains("dark-mode");s(!t)});var d=localStorage.getItem("darkMode");s("enabled"===d)}})},8217:(e,t,n)=>{"use strict";var r=n(9336);n(5146),n(2675),n(9463),n(6280),n(6918),n(8706),n(1629),n(4423),n(8598),n(9089),n(4170),n(9904),n(4185),n(875),n(9432),n(3548),n(287),n(6099),n(3362),n(1699),n(8992),n(3949),n(3500);function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof d?r:d,u=Object.create(c.prototype);return a(u,"_invoke",function(n,r,o){var a,i,c,d=0,u=o||[],l=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function v(n,r){for(i=n,c=r,t=0;!l&&d&&!o&&t<u.length;t++){var o,a=u[t],v=f.p,m=a[2];n>3?(o=m===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=v&&((o=n<2&&v<a[1])?(i=0,f.v=r,f.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,i=0))}if(o||n>1)return s;throw l=!0,r}return function(o,u,m){if(d>1)throw TypeError("Generator is already running");for(l&&1===u&&v(u,m),i=u,c=m;(t=i<2?e:c)||!l;){a||(i?i<3?(i>1&&(f.n=-1),v(i,c)):f.n=c:f.v=c);try{if(d=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(l=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{d=1}}return{value:t,done:l}}}(n,o,i),!0),u}var s={};function d(){}function u(){}function l(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),v=l.prototype=d.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,a(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=l,a(v,"constructor",l),a(l,"constructor",u),u.displayName="GeneratorFunction",a(l,i,"GeneratorFunction"),a(v),a(v,i,"Generator"),a(v,r,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function i(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},a(e,t,n,r)}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof d?r:d,u=Object.create(c.prototype);return s(u,"_invoke",function(n,r,o){var a,c,s,d=0,u=o||[],l=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return a=t,c=0,s=e,f.n=n,i}};function v(n,r){for(c=n,s=r,t=0;!l&&d&&!o&&t<u.length;t++){var o,a=u[t],v=f.p,m=a[2];n>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=v&&((o=n<2&&v<a[1])?(c=0,f.v=r,f.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,c=0))}if(o||n>1)return i;throw l=!0,r}return function(o,u,m){if(d>1)throw TypeError("Generator is already running");for(l&&1===u&&v(u,m),c=u,s=m;(t=c<2?e:s)||!l;){a||(c?c<3?(c>1&&(f.n=-1),v(c,s)):f.n=s:f.v=s);try{if(d=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(l=f.n<0)?s:n.call(r,f))!==i)break}catch(t){a=e,c=1,s=t}finally{d=1}}return{value:t,done:l}}}(n,o,a),!0),u}var i={};function d(){}function u(){}function l(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),v=l.prototype=d.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=l,s(v,"constructor",l),s(l,"constructor",u),u.displayName="GeneratorFunction",s(l,o,"GeneratorFunction"),s(v),s(v,o,"Generator"),s(v,r,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),(c=function(){return{w:a,m}})()}function s(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,n,r){function a(t,n){s(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},s(e,t,n,r)}function d(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,d=Object.create(s.prototype);return l(d,"_invoke",function(n,r,o){var a,c,s,d=0,u=o||[],l=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return a=t,c=0,s=e,f.n=n,i}};function v(n,r){for(c=n,s=r,t=0;!l&&d&&!o&&t<u.length;t++){var o,a=u[t],v=f.p,m=a[2];n>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=v&&((o=n<2&&v<a[1])?(c=0,f.v=r,f.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,c=0))}if(o||n>1)return i;throw l=!0,r}return function(o,u,m){if(d>1)throw TypeError("Generator is already running");for(l&&1===u&&v(u,m),c=u,s=m;(t=c<2?e:s)||!l;){a||(c?c<3?(c>1&&(f.n=-1),v(c,s)):f.n=s:f.v=s);try{if(d=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(l=f.n<0)?s:n.call(r,f))!==i)break}catch(t){a=e,c=1,s=t}finally{d=1}}return{value:t,done:l}}}(n,o,a),!0),d}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),v=d.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=d,l(v,"constructor",d),l(d,"constructor",s),s.displayName="GeneratorFunction",l(d,o,"GeneratorFunction"),l(v),l(v,o,"Generator"),l(v,r,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m}})()}function l(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,n,r){function a(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},l(e,t,n,r)}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("pacientes-table-body");if(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification-container");if(n){var o="toast-"+Date.now(),a='\n            <div id="'.concat(o,'" class="toast align-items-center text-white bg-').concat(t,' border-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="d-flex"><div class="toast-body">').concat(e,'</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div>\n            </div>');n.insertAdjacentHTML("beforeend",a);var i=document.getElementById(o);new r.y8(i,{delay:5e3}).show(),i.addEventListener("hidden.bs.toast",function(){return i.remove()})}},n=document.getElementById("flash-messages-data");if(n){var a=JSON.parse(n.textContent),c=function(e){a[e].forEach(function(n){n&&t(n,e)})};for(var s in a)c(s)}var d=document.getElementById("modalEliminarPaciente");if(d){var u=new r.aF(d),l=document.getElementById("delete-patient-name"),f=document.getElementById("delete-patient-form"),v=document.getElementById("delete-csrf-token");document.body.addEventListener("click",function(e){var t=e.target.closest(".delete-btn");t&&(l&&(l.textContent=t.dataset.patientName),f&&(f.action=t.dataset.deleteUrl),v&&(v.value=t.dataset.csrfToken),u.show())})}var m=function(){var e,n=(e=o().m(function e(n,r){var a,i,c,s,d;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=n.querySelector('button[type="submit"]'),i=a.innerHTML,a.disabled=!0,a.innerHTML='<span class="spinner-border spinner-border-sm"></span> Procesando...',e.p=1,e.n=2,fetch(n.action,{method:n.method,body:new FormData(n),headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:return c=e.v,e.n=3,c.json();case 3:if(s=e.v,c.ok){e.n=4;break}throw new Error(s.errors?s.errors.join("<br>"):"Ocurrió un error.");case 4:t(s.message,"success"),r&&r(s),e.n=6;break;case 5:e.p=5,d=e.v,t(d.message,"danger");case 6:return e.p=6,a.disabled=!1,a.innerHTML=i,e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)})});return function(e,t){return n.apply(this,arguments)}}();document.body.addEventListener("submit",function(t){var n=t.target.closest("form");if(n&&n.closest(".modal")&&"delete-patient-form"!==n.id){t.preventDefault();m(n,function(t){var o="form-registrar-paciente"===n.id,a=document.createElement("div");a.innerHTML="<table><tbody>".concat(t.newRowHtml,"</tbody></table>");var i,c,s=a.querySelector("tr");o?(null===(i=document.getElementById("no-pacientes-row"))||void 0===i||i.remove(),e.appendChild(s),document.getElementById("modals-pacientes-container").insertAdjacentHTML("beforeend",t.newEditModalHtml)):null===(c=document.getElementById("paciente-row-".concat(t.entidadId)))||void 0===c||c.replaceWith(s);r.aF.getInstance(n.closest(".modal")).hide(),o&&n.reset()})}});var p=document.getElementById("buscador-pacientes");p&&e&&p.addEventListener("input",function(t){var n=t.target.value.toLowerCase();e.querySelectorAll("tr").forEach(function(e){"no-pacientes-row"!==e.id&&(e.style.display=e.innerText.toLowerCase().includes(n)?"table-row":"none")})})}}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("citas-table-body");if(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification-container");if(n){var o="toast-"+Date.now(),a='\n            <div id="'.concat(o,'" class="toast align-items-center text-white bg-').concat(t,' border-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="d-flex"><div class="toast-body">').concat(e,'</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div>\n            </div>');n.insertAdjacentHTML("beforeend",a);var i=document.getElementById(o);new r.y8(i,{delay:5e3}).show(),i.addEventListener("hidden.bs.toast",function(){return i.remove()})}},n=document.getElementById("flash-messages-data");if(n){var o=JSON.parse(n.textContent),a=function(e){o[e].forEach(function(n){n&&t(n,e)})};for(var i in o)a(i)}var s=document.getElementById("modalEliminarCita");if(s){var u=new r.aF(s),l=document.getElementById("delete-cita-info"),f=document.getElementById("delete-cita-form"),v=document.getElementById("delete-csrf-token-cita");document.body.addEventListener("click",function(e){var t=e.target.closest(".delete-cita-btn");t&&(l&&(l.innerHTML=t.dataset.citaInfo),f&&(f.action=t.dataset.deleteUrl),v&&(v.value=t.dataset.csrfToken),u.show())})}var m=function(){var e,n=(e=c().m(function e(n,r){var o,a,i,s,d;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=n.querySelector('button[type="submit"]'),a=o.innerHTML,o.disabled=!0,o.innerHTML='<span class="spinner-border spinner-border-sm"></span> Procesando...',e.p=1,e.n=2,fetch(n.action,{method:n.method,body:new FormData(n),headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:return i=e.v,e.n=3,i.json();case 3:if(s=e.v,i.ok){e.n=4;break}throw new Error(s.errors?s.errors.join("<br>"):"Ocurrió un error.");case 4:t(s.message,"success"),r&&r(s),e.n=6;break;case 5:e.p=5,d=e.v,t(d.message,"danger");case 6:return e.p=6,o.disabled=!1,o.innerHTML=a,e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,c,"next",e)}function c(e){d(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}();document.body.addEventListener("submit",function(t){var n=t.target.closest("form");if(n&&n.closest(".modal")&&"delete-cita-form"!==n.id){t.preventDefault();m(n,function(t){var o="form-registrar-cita"===n.id,a=document.createElement("div");a.innerHTML="<table><tbody>".concat(t.newRowHtml,"</tbody></table>");var i,c,s=a.querySelector("tr");o?(null===(i=document.getElementById("no-citas-row"))||void 0===i||i.remove(),e.appendChild(s),document.getElementById("modals-citas-container").insertAdjacentHTML("beforeend",t.newEditModalHtml)):null===(c=document.getElementById("cita-row-".concat(t.entidadId)))||void 0===c||c.replaceWith(s);r.aF.getInstance(n.closest(".modal")).hide(),o&&n.reset()})}});var p=document.getElementById("buscador-citas");p&&e&&p.addEventListener("input",function(t){var n=t.target.value.toLowerCase();e.querySelectorAll("tr").forEach(function(e){"no-citas-row"!==e.id&&(e.style.display=e.innerText.toLowerCase().includes(n)?"table-row":"none")})})}}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("pagos-table-body");if(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification-container");if(n){var o="toast-"+Date.now(),a='\n            <div id="'.concat(o,'" class="toast align-items-center text-white bg-').concat(t,' border-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="d-flex"><div class="toast-body">').concat(e,'</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div>\n            </div>');n.insertAdjacentHTML("beforeend",a);var i=document.getElementById(o);new r.y8(i,{delay:5e3}).show(),i.addEventListener("hidden.bs.toast",function(){return i.remove()})}},n=document.getElementById("flash-messages-data");if(n){var o=JSON.parse(n.textContent),a=function(e){o[e].forEach(function(n){n&&t(n,e)})};for(var i in o)a(i)}var c=document.getElementById("modalEliminarPago");if(c){var s=new r.aF(c),d=document.getElementById("delete-pago-info"),l=document.getElementById("delete-pago-form"),v=document.getElementById("delete-csrf-token-pago");document.body.addEventListener("click",function(e){var t=e.target.closest(".delete-pago-btn");t&&(d&&(d.innerHTML=t.dataset.pagoInfo),l&&(l.action=t.dataset.deleteUrl),v&&(v.value=t.dataset.csrfToken),s.show())})}var m=function(){var e,n=(e=u().m(function e(n,r){var o,a,i,c,s;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=n.querySelector('button[type="submit"]'),a=o.innerHTML,o.disabled=!0,o.innerHTML='<span class="spinner-border spinner-border-sm"></span> Procesando...',e.p=1,e.n=2,fetch(n.action,{method:n.method,body:new FormData(n),headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:return i=e.v,e.n=3,i.json();case 3:if(c=e.v,i.ok){e.n=4;break}throw new Error(c.errors?c.errors.join("<br>"):"Ocurrió un error.");case 4:t(c.message,"success"),r&&r(c),e.n=6;break;case 5:e.p=5,s=e.v,t(s.message,"danger");case 6:return e.p=6,o.disabled=!1,o.innerHTML=a,e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}();document.body.addEventListener("submit",function(t){var n=t.target.closest("form");if(n&&n.closest(".modal")&&"delete-pago-form"!==n.id){t.preventDefault();m(n,function(t){var o="form-registrar-pago"===n.id,a=document.createElement("div");a.innerHTML="<table><tbody>".concat(t.newRowHtml,"</tbody></table>");var i,c,s=a.querySelector("tr");o?(null===(i=document.getElementById("no-pagos-row"))||void 0===i||i.remove(),e.appendChild(s),document.getElementById("modals-pagos-container").insertAdjacentHTML("beforeend",t.newEditModalHtml)):null===(c=document.getElementById("pago-row-".concat(t.entidadId)))||void 0===c||c.replaceWith(s);r.aF.getInstance(n.closest(".modal")).hide(),o&&n.reset()})}});var p=document.getElementById("buscador-pagos");p&&e&&p.addEventListener("input",function(t){var n=t.target.value.toLowerCase();e.querySelectorAll("tr").forEach(function(e){"no-pagos-row"!==e.id&&(e.style.display=e.innerText.toLowerCase().includes(n)?"table-row":"none")})})}});n(736);function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,d=Object.create(s.prototype);return m(d,"_invoke",function(n,r,o){var a,c,s,d=0,u=o||[],l=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return a=t,c=0,s=e,f.n=n,i}};function v(n,r){for(c=n,s=r,t=0;!l&&d&&!o&&t<u.length;t++){var o,a=u[t],v=f.p,m=a[2];n>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=v&&((o=n<2&&v<a[1])?(c=0,f.v=r,f.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,c=0))}if(o||n>1)return i;throw l=!0,r}return function(o,u,m){if(d>1)throw TypeError("Generator is already running");for(l&&1===u&&v(u,m),c=u,s=m;(t=c<2?e:s)||!l;){a||(c?c<3?(c>1&&(f.n=-1),v(c,s)):f.n=s:f.v=s);try{if(d=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(l=f.n<0)?s:n.call(r,f))!==i)break}catch(t){a=e,c=1,s=t}finally{d=1}}return{value:t,done:l}}}(n,o,a),!0),d}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(m(t={},r,function(){return this}),t),l=d.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,m(e,o,"GeneratorFunction")),e.prototype=Object.create(l),e}return s.prototype=d,m(l,"constructor",d),m(d,"constructor",s),s.displayName="GeneratorFunction",m(d,o,"GeneratorFunction"),m(l),m(l,o,"Generator"),m(l,r,function(){return this}),m(l,"toString",function(){return"[object Generator]"}),(v=function(){return{w:a,m:f}})()}function m(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}m=function(e,t,n,r){function a(t,n){m(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},m(e,t,n,r)}function p(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("blog-table-body");if(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification-container");if(n){var o="toast-"+Date.now(),a='\n            <div id="'.concat(o,'" class="toast align-items-center text-white bg-').concat(t,' border-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="d-flex"><div class="toast-body">').concat(e,'</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div>\n            </div>');n.insertAdjacentHTML("beforeend",a);var i=document.getElementById(o);new r.y8(i,{delay:5e3}).show(),i.addEventListener("hidden.bs.toast",function(){return i.remove()})}},n=document.getElementById("flash-messages-data");if(n){var o=JSON.parse(n.textContent),a=function(e){o[e].forEach(function(n){n&&t(n,e)})};for(var i in o)a(i)}var c=document.getElementById("modalEliminarPost");if(c){var s=new r.aF(c),d=document.getElementById("delete-post-info"),u=document.getElementById("delete-post-form"),l=document.getElementById("delete-csrf-token-post");document.body.addEventListener("click",function(e){var t=e.target.closest(".delete-post-btn");t&&(d&&(d.innerHTML=t.dataset.postInfo),u&&(u.action=t.dataset.deleteUrl),l&&(l.value=t.dataset.csrfToken),s.show())}),u.addEventListener("submit",function(e){e.preventDefault(),f(u,function(e){var t,n=u.action.split("/"),r=n[n.length-2];null===(t=document.getElementById("post-row-".concat(r)))||void 0===t||t.remove(),s.hide()})})}var f=function(){var e,n=(e=v().m(function e(n,r){var o,a,i,c,s;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=n.querySelector('button[type="submit"]'),a=o.innerHTML,o.disabled=!0,o.innerHTML='<span class="spinner-border spinner-border-sm"></span> Procesando...',e.p=1,e.n=2,fetch(n.action,{method:n.method,body:new FormData(n),headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:return i=e.v,e.n=3,i.json();case 3:if(c=e.v,i.ok){e.n=4;break}throw new Error(c.errors?c.errors.join("<br>"):"Ocurrió un error.");case 4:t(c.message,"success"),r&&r(c),e.n=6;break;case 5:e.p=5,s=e.v,t(s.message,"danger");case 6:return e.p=6,o.disabled=!1,o.innerHTML=a,e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,c,"next",e)}function c(e){p(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}();document.body.addEventListener("submit",function(t){var n=t.target.closest("form");if(n&&n.closest(".modal")){t.preventDefault();f(n,function(t){var o="form-registrar-post"===n.id,a=document.createElement("div");a.innerHTML="<table><tbody>".concat(t.newRowHtml,"</tbody></table>");var i,c,s=a.querySelector("tr");o?(null===(i=document.getElementById("no-posts-row"))||void 0===i||i.remove(),e.appendChild(s),document.getElementById("modals-blog-container").insertAdjacentHTML("beforeend",t.newEditModalHtml)):null===(c=document.getElementById("post-row-".concat(t.entidadId)))||void 0===c||c.replaceWith(s);r.aF.getInstance(n.closest(".modal")).hide(),o&&n.reset()})}})}});n(1392);function y(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,d=Object.create(s.prototype);return b(d,"_invoke",function(n,r,o){var a,c,s,d=0,u=o||[],l=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return a=t,c=0,s=e,f.n=n,i}};function v(n,r){for(c=n,s=r,t=0;!l&&d&&!o&&t<u.length;t++){var o,a=u[t],v=f.p,m=a[2];n>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=v&&((o=n<2&&v<a[1])?(c=0,f.v=r,f.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,c=0))}if(o||n>1)return i;throw l=!0,r}return function(o,u,m){if(d>1)throw TypeError("Generator is already running");for(l&&1===u&&v(u,m),c=u,s=m;(t=c<2?e:s)||!l;){a||(c?c<3?(c>1&&(f.n=-1),v(c,s)):f.n=s:f.v=s);try{if(d=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(l=f.n<0)?s:n.call(r,f))!==i)break}catch(t){a=e,c=1,s=t}finally{d=1}}return{value:t,done:l}}}(n,o,a),!0),d}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(b(t={},r,function(){return this}),t),l=d.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,b(e,o,"GeneratorFunction")),e.prototype=Object.create(l),e}return s.prototype=d,b(l,"constructor",d),b(d,"constructor",s),s.displayName="GeneratorFunction",b(d,o,"GeneratorFunction"),b(l),b(l,o,"Generator"),b(l,r,function(){return this}),b(l,"toString",function(){return"[object Generator]"}),(y=function(){return{w:a,m:f}})()}function b(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}b=function(e,t,n,r){function a(t,n){b(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},b(e,t,n,r)}function g(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,c,"next",e)}function c(e){g(a,r,o,i,c,"throw",e)}i(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification-container");if(n){var o="toast-"+Date.now(),a='\n            <div id="'.concat(o,'" class="toast align-items-center text-white bg-').concat(t,' border-0" role="alert" aria-live="assertive" aria-atomic="true">\n                <div class="d-flex"><div class="toast-body">').concat(e,'</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div>\n            </div>');n.insertAdjacentHTML("beforeend",a);var i=document.getElementById(o);new r.y8(i,{delay:5e3}).show(),i.addEventListener("hidden.bs.toast",function(){return i.remove()})}},t=function(){var t=h(y().m(function t(n,r){var o,a,i,c,s;return y().w(function(t){for(;;)switch(t.p=t.n){case 0:return o=n.querySelector('button[type="submit"]'),a=o.innerHTML,o.disabled=!0,o.innerHTML='<span class="spinner-border spinner-border-sm"></span> Procesando...',t.p=1,t.n=2,fetch(n.action,{method:n.method,body:new FormData(n),headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:return i=t.v,t.n=3,i.json();case 3:if(c=t.v,i.ok){t.n=4;break}throw new Error(c.errors?c.errors.join("<br>"):"Ocurrió un error.");case 4:e(c.message,"success"),r&&r(c),t.n=6;break;case 5:t.p=5,s=t.v,e(s.message,"danger");case 6:return t.p=6,o&&(o.disabled=!1,o.innerHTML=a),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}));return function(e,n){return t.apply(this,arguments)}}(),n=document.querySelector(".patient-card-grid"),o=document.getElementById("historial-container"),a=document.getElementById("buscador-pacientes");n&&o&&a&&(a.addEventListener("input",function(e){var t=e.target.value.toLowerCase();n.querySelectorAll(".col").forEach(function(e){var n,r=null===(n=e.querySelector(".patient-card"))||void 0===n?void 0:n.innerText.toLowerCase();r&&(e.style.display=r.includes(t)?"":"none")})}),n.addEventListener("click",function(){var e=h(y().m(function e(t){var r,a,i,c,s;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=t.target.closest(".patient-card")){e.n=1;break}return e.a(2);case 1:return n.querySelectorAll(".patient-card").forEach(function(e){return e.classList.remove("active")}),r.classList.add("active"),a=r.dataset.pacienteId,o.innerHTML='<div class="text-center p-5"><div class="spinner-border"></div><p class="mt-2">Cargando historial...</p></div>',e.p=2,e.n=3,fetch("/consultas/historial/".concat(a));case 3:if((i=e.v).ok){e.n=4;break}throw new Error("No se pudo cargar el historial.");case 4:return e.n=5,i.json();case 5:c=e.v,o.innerHTML=c.html,e.n=7;break;case 6:e.p=6,s=e.v,o.innerHTML='<div class="alert alert-danger">'.concat(s.message,"</div>");case 7:return e.a(2)}},e,null,[[2,6]])}));return function(t){return e.apply(this,arguments)}}()),o.addEventListener("submit",function(e){var n=e.target.closest("form");n&&(e.preventDefault(),(n.id.startsWith("form-registrar-consulta")||n.id.startsWith("form-editar-consulta"))&&t(n,function(e){var t,a=n.id.startsWith("form-registrar-consulta"),i=document.createElement("div");i.innerHTML="<table><tbody>".concat(e.newRowHtml,"</tbody></table>");var c,s,d=i.querySelector("tr"),u=o.querySelector("#consultas-table-body");a?(u.prepend(d),null===(c=o.querySelector("#no-consultas-row"))||void 0===c||c.remove(),o.querySelector("#modals-consultas-container").insertAdjacentHTML("beforeend",e.newEditModalHtml),n.reset()):null===(s=document.getElementById("consulta-row-".concat(e.entidadId)))||void 0===s||s.replaceWith(d);null===(t=r.aF.getInstance(n.closest(".modal")))||void 0===t||t.hide()}),"delete-consulta-form"===n.id&&t(n,function(){var e,t,o=n.action.split("/"),a=o[o.length-2];null===(e=document.getElementById("consulta-row-".concat(a)))||void 0===e||e.remove(),null===(t=r.aF.getInstance(document.getElementById("modalEliminarConsulta")))||void 0===t||t.hide()}))}),o.addEventListener("click",function(e){var t=e.target.closest(".delete-consulta-btn");if(t){var n=document.getElementById("modalEliminarConsulta");if(n){var o=r.aF.getOrCreateInstance(n);n.querySelector("#delete-consulta-info").innerHTML=t.dataset.consultaInfo,n.querySelector("form").action=t.dataset.deleteUrl,n.querySelector('input[name="_token"]').value=t.dataset.csrfToken,o.show()}}}))})}},e=>{e.O(0,[715,587],()=>{return t=8217,e(e.s=t);var t});e.O()}]);